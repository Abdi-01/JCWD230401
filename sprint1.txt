user
sequelize model:create --name users --attributes uuid:string,name:string,email:sSuccessfully created migrations folder at "C:\Ussequelize model:create --name users --attributes uuid:string,name:string,email:string,password:string,phone:string,birth:dateonly,gender:enum,image_profile:string,image_ktp:string,attempts:integer,isVerified:boolean,isDeleted:boolean,roleId:integer,statusId:integer

role 
sequelize model:create --name role --attributes role:string

property
sequelize model:create --name property --attributes uuid:string,property:string,description:string,isDeleted:boolean,categoryId:integer,picture_propertyId:integer,userId:integer

category
sequelize model:create --name category --attributes uuid:string,category:string

picture_property
sequelize model:create --name picture_property --attributes picture:string,isDeleted:boolean

location
sequelize model:create --name location --attributes uuid:string,address:string,city:string,province:string,zip:string,propertyId:integer

zip itu pake string aja krn gaada yg perlu ditambahin (count) wlopun angka smua

review
sequelize model:create --name review --attributes uuid:string,review:string,roomId:integer,userId:integer

room
sequelize model:create --name room --attributes uuid:string,name:string,price:integer,description:string,quantity:integer,capacity:integer,booked:integer,isAvailable:boolean,isDeleted:boolean,picture_roomId:integer,propertyId:integer

special_price
sequelize model:create --name special_price --attributes uuid:string,startDate:dateonly,endDate:dateonly,priceOnDate:integer,isActive:boolean,roomId:integer

picture_room
sequelize model:create --name picture_room --attributes picture:string,isDeleted:boolean

maintenance
sequelize model:create --name maintenance --attributes startDate:dateonly,endDate:dateonly,remarks:string,isActive:boolean,roomId:integer
(tambahin uuid manual lupa td)

transaction
sequelize model:create --name transaction --attributes uuid:string,startDate:string,endDate:string,discount:integer,image_payment:string,isConfirmed:boolean,transaction_statusId:integer,userId:integer

order
sequelize model:create --name order --attributes uuid:string,price:integer,quantity:integer,transactionId:integer,roomId:integer

transaction_status
sequelize model:create --name transaction_status --attributes status:string

sequelize db:migrate


seharusnya gabole di root coonfig.json nya krn rawan kalo di hack (root itu bisa akses semua database, database projek ini bisa kena hack")

semua FK PK dibikin Not Null di mysql dan di folder migrations

location
maintenance
order
property
review
room
special_price 
transaction

git commit -m "develop-2:setup sequelize"  

git commit -m "TPK-2-1 : Prepare landing page"

git commit -m "develop-2:setup sequelize"  

git commit -m "TPK-2-1 : Prepare landing page"

git push origin TPK-2


register

remote: Create a pull request for 'TPK-2' on GitHub by visiting:
remote:      https://github.com/Abdi-01/JCWD230401/pull/new/TPK-2

base repository: Abdi-01/JCWD230401, base:develop
head repository: Abdi-01/JCWD230401, base:TPK-2 (branch kita)
git checkout -b TPK-4

TPK - 4

1. const ormTransaction = await model.sequelize.transaction();

2. let regis = await model.users.create(req.body, { transaction: ormTransaction });

3. await ormTransaction.commit(); //kalo berhasil nambahin data ke database

4. await ormTransaction.rollback(); // cancelation of the process

td bikin validator register phone number

 alert(error.response.data.error[0].msg); --> dapetin error message dr backend

commit rollback still not functioning --> kasus: name di regis page left blank intentionally
fill in all the fields error --> masih masuk ke database mysql --> fix: ilangin

fix: bikin validator buat name 

            alert(error.response.data.error[0].msg); // name , email, password
            alert(error.response.data.error[1].msg); // phone

git add .
git commit -m "TPK-4-1 : register as a user"
git push origin TPK-4

git checkout -b TPK-6

TPK - 6
-validator login ✅
-login form: email/phone number, password
-tambahan fitur: keep login 

BE
1. userController & index js 
2. userRouter 
3. index.js utama
4. validator helper 

FE 
1. login page
2. navbar 

kalo phone number bisa buat login brarti gabole sama dong

now: lg gbs login pake phone and password

server: Error: WHERE parameter "email" has invalid "undefined" value
server:     at MySQLQueryGenerator.whereItemQuery (C:\Users\Marceline Megan\Desktop\JCWD230401\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1705:13)
server:     at C:\Users\Marceline Megan\Desktop\JCWD230401\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1696:25

hrs ditulis jg dengan string kosong ---> this is a problem td nyoba fix it in validator nullable;true it didnt work

{
  "email":"",
  "phone":"087875084660",
  "password":"Admin123"
}

output 1 pake phone login
{
  "success": true,
  "message": "Login success ✅",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXVpZCI6IjhiZjc4M2NlLTk4NzctNDE0Yi04M2M5LTYzZmMwMjk1MGNhMiIsImlhdCI6MTY3OTU0NTQwNywiZXhwIjoxNjgwOTg1NDA3fQ.6QFN7S-KRH2DbZnCbRpRvk9qQXEytwnEzDz1klRyvqA",
  "name": "megan",
  "email": "megan@gmail.com",
  "phone": "087875084660",
  "roleId": null,
  "image_profile": null
}

output 2 pake email login 
{
  "success": true,
  "message": "Login success ✅",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXVpZCI6IjhiZjc4M2NlLTk4NzctNDE0Yi04M2M5LTYzZmMwMjk1MGNhMiIsImlhdCI6MTY3OTU0NTU5NCwiZXhwIjoxNjgwOTg1NTk0fQ.OWYo-Q4oybWxQQ-r4caAukb9JQSyUeJ-okVc2wHIAAo",
  "name": "megan",
  "email": "megan@gmail.com",
  "phone": "087875084660",
  "roleId": null,
  "image_profile": null
}

nyoba keeplogin pake 2 token yg berbeda bisa, hrs dibikin yg paling baru aja bisanya? --> iya dibikin kondisi hrs token terbaru!!!!!
output keeplogin:
{
  "success": true,
  "message": "keep login success ✅",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXVpZCI6IjhiZjc4M2NlLTk4NzctNDE0Yi04M2M5LTYzZmMwMjk1MGNhMiIsImlhdCI6MTY3OTU0NTc1MCwiZXhwIjoxNjgwOTg1NzUwfQ.EOwu-OxHunOV3evBddFwGY96xtVVboF2VwF2XTBX5pk",
  "name": "megan",
  "email": "megan@gmail.com",
  "phone": "087875084660",
  "roleId": null,
  "image_profile": null
}

note: login page -> component

oh di register nya lupa return roleId : 1 krn user

ganti design booking.com
banner static boleh kek video

bikin kondisi bisa deteksi ini email atau phone number

inin register gausa orm transaction
krn query cm 1 create doang
const ormTransaction = await model.sequelize.transaction(); //pake ini klo ad lebih dr 1 query //buat nanggulangin error dr mysql bbrp query yg dijalankan trs ad error


tombol request verifikasi ulang

git add .
git commit -m "TPK-6-1 : login as a user, keep login"
git push origin TPK-6

